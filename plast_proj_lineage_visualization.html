<!DOCTYPE html>

<html>
  <head>
    <!-- everything in header must get loaded before page can load -->
    <link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.0/css/bootstrap-toggle.min.css" rel="stylesheet">
    <link rel="stylesheet" href="sass/main.css" type="text/css" />
  </head>

  <body>
    <div class = "container">
      <!-- Heading -->
      <div id="banner" class = "jumbotron">
        <h1>Visualization: The Evolutionary Origins of Phenotypic Plasticity</h1>
      </div>

      <!-- ================================== -->
      <!-- Nav Bar -->
      <nav class="navbar navbar-lalejini">
        <div class="container-fluid">
          <ul class = "nav navbar-nav nav-justified">
            <li><a href="index.html" class="btn-lg nav_btn_lalejini" id="active_page">About</a></li>
            <li><a href="experience.html" class = "btn-lg nav_btn_lalejini">Experience</a></li>
            <li><a href="publications.html" class = "btn-lg nav_btn_lalejini">Publications</a></li>
            <li><a href="contact.html" class = "btn-lg nav_btn_lalejini">Contact</a></li>
            <li><a href="web_links.html" class = "btn-lg nav_btn_lalejini">Web Links</a></li>
          </ul>
        </div>
      </nav>
      <!-- ================================== -->

      <div class="row">
        <div class = "col-md-12">
          <div class="row"> <!-- about panel row -->
            <div class="col-md-12">
              <div class="panel panel-lalejini">
                <div class="panel-heading" role="tab" id="about-heading">
                  <h2>
                    <a class="collapsed" role="button" data-toggle="collapse" href="#collapseAbout" aria-expanded="false" aria-controls="collapseAbout">
                       About
                    </a>
                  </h2>
                </div>
                <div id="collapseAbout" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="about-heading">
                  <div class="panel-body">
                    <h3>The Big Picture</h3>
                    <p>
                      Many effective and innovative survival mechanisms used by
                      natural organisms rely on the capacity for phenotypic plasticity;
                      that is, the ability of a genotype to alter how it is expressed
                      based on the current environmental conditions. For programmers, implementing
                      a 'phenotypically plastic' program is as simple
                      as using conditional logic to ensure that the program behaves appropriately given
                      certain conditions. It is less obvious how biological evolution develops phenotypic
                      plasticity.
                    </p>
                    <h3>The Question</h3>
                    <p>
                      What is the step-by-step process by which phenotypic plasticity evolves?
                      Are there recurring themes as evolution moves from non-plastic to more plastic
                      strategies?
                    </p>
                    <h3>The Approach</h3>
                    <p>
                      If we want to observe the evolution of phenotypic plasticity step-by-step
                      (mutation-by-mutation), we need a study system that we can extract high-resolution,
                      historical genotype/phenotype data; this is something that would normally be
                      quite difficult to do using biological systems. But, it turns out that
                      computational evolution gives a great tool to ask questions about evolutionary
                      processes, allowing us to record and analyze every mutation that occurs in a
                      population of 'digital' organisms.
                    </p>
                    <h4>Study System</h4>
                    <p>
                      Here, we used the Avida Digital Evolution Platform to evolve phenotypically plastic
                      digital organisms. Digital organisms in Avida are self-replicating computer programs
                      whose genomes consist of instructions from a Turing-complete instruction set.
                      Digital organisms in Avida compete for resources in a grid (a toroidal one in
                      this case) by performing computational tasks. See below for a diagram of an
                      organism in Avida.
                    </p>
                    <div class ="img-default" id="lineage_vis_legend">
                      <img src="img/avida_org.png" alt="Legend" class="img-responsive"></img>
                    </div>
                    <h4>Environment</h4>
                    <p>
                      We evolved digital organisms in several environments under conditions known to
                      lead to the evolution of phenotypic plasticity: (1) populations are exposed to
                      temporally or spatially varying environments, (2) different environments favor
                      different phenotypes, (3) no single phenotype exhibits high fitness across all
                      environments, and (4) environments are differentiable by reliable signals. We
                      also show a control environment where we keep the environment constant, expecting
                      no plasticity to evolve.
                    </p>
                    <p>
                      More specifically, we evolved organisms in several temporally changing environment (
                      shown by the environment indicator bar on the 'y-axis'). In all environments,
                      organisms were rewarded for performing the logical operations NAND and NOT. However,
                      in all environments except the control, things were not so simple. In each of the
                      experimental environments, sometimes NAND would be punished while NOT was rewarded
                      and sometimes NOT would be punished while NAND was rewarded. This created selection
                      pressure for organisms to since which environment they were in and to express
                      the appropriate operation while surpressing the 'poison' operation. Check out the
                      environment indicator bar in the visualization to see how the environments
                      changed through the experiment. Below is a diagram of how environments changed.
                    </p>
                    <div class ="img-default" id="lineage_vis_legend">
                      <img src="img/env.png" alt="Legend" class="img-responsive" style="background:white;"></img>
                    </div>
                    <p>
                      The environments we tested included (explore data for each environment using environment
                      selector on visualization dashboard):
                      <ul>
                        <li><b>Baseline Environment</b></li>
                        <li><b>High Mutation Rate Environment:</b> relative to Baseline environment, this
                        environment has an high mutation rate. </li>
                        <li><b>Low Mutation Rate Environment:</b> relative to the Baseline environment, this
                        environment has a low mutation rate. </li>
                        <li><b>Rapidly Changing Environment:</b> relative to the Baseline environment, this
                        environment changes rapidly (twice as fast as the baseline environment).</li>
                        <li><b>Slowly Changing Environment:</b> relative to the Baseline environment, this
                        environment changes slowly (the Baseline environment changes twice as fast as
                        this environment). </li>
                        <li><b>Control Environment:</b> this environment does not change. </li>
                      </ul>
                    </p>
                    <p>
                      Each environment type has different effects on the evolution of plasticity. In
                      some cases, the visualization shows an alternative, bet-hedging  strategy evolve
                      to deal with the changing environment. In environments where plasticity does evolve,
                      we see that unconditional traits tend to evolve first; next, imprecise forms
                      of phenotypic plasticity often appear before optimal forms finally evolve.
                    </p>
                    <h3>Okay, but what is this visualization?</h3>
                    <p>
                      To explore how phenotypic plasticity evolved in our experiments, we take a look
                      at the final population of a given replicate, or run of evolution,
                      and pick out the dominant organism. We then trace that organism's ancestral lineage
                      all the way back to the original organism we used to seed the replicate.
                    </p>
                      Once we have a lineage, we can compute the phenotype of each ancestor along the lineage.
                      Basically, we ask the question: what tasks do you do in each environment? There are
                      16 possible phenotypes across the two environments, see the legend for an enumeration
                      of these phenotypes. Once we phenotype each ancestor, we can assign it a color-code,
                      which lets us visualize lineages as sequences of phenotypes (the phenotypes of
                      ancestors in the lineage).
                    <p>
                      Lineages of evolved genotypes are visualized as vertical bars where time
                      (in updates) proceeds from top to bottom beginning with lineage's original
                      ancestor genotype.
                    </p>
                    <h4>Phenotypic State Indication</h4>
                      Any given genotype on the lineage must express one of the sixteen possible
                      phenotypes enumerated to in the legend. At each point in time,
                      the color of the visualized lineage corresponds to the color representing the
                      phenotype expressed by the lineage at that point in time. Hover your mouse over a
                      phenotypic state in the visualization to see detail.
                    <h4>Environment Indication</h4>
                      The actual environmental conditions experienced by the evolving populations at
                      each point in time are indicated by the color of the vertical axis. Hover your
                      mouse over the environment axis to view details about the environment.
                     <h4>Definitions</h4>
                     <ul>
                       <li><b>ENV-NAND</b> - the NAND computational task is rewarded and the NOT task is punished</li>
                       <li><b>ENV-NOT</b> - the NOT computational task is rewarded and the NAND task is punished</li>
                       <li><b>CONTROL-ENV</b> - both the NAND and the NOT computational tasks are rewarded</li>
                     </ul>
                     <h4>Source</h4>
                     The source code for this visualization can be found: <a href="https://github.com/amlalejini/evo-origins-of-plast/tree/master/visualization">https://github.com/amlalejini/evo-origins-of-plast/tree/master/visualization</a>
                     <h3>Talk to me!</h3>
                     Is this visualization neat? Do you want to use something like it for data you might
                     have? Or, have I explained something poorly, and there's something you don't understand?
                     <h4>Contact me!</h4>
                     Feel free to shoot me an email or get into contact with me about it! I'd love get some
                     feedback: <a href="contact.html" class = "btn-lg nav_btn_lalejini">Contact Me Page</a>
                  </div>
                </div>
              </div>
            </div>
          </div> <!-- end about panel row -->

        </div> <!-- end col -->
        </div>
        <div class="row">
        <div class="col-md-12">
          <div class="panel panel-lalejini">
            <div class="panel-heading" role="tab" id="legend-heading">
              <h2>
                <a class="collapsed" role="button" data-toggle="collapse" href="#collapseLegend" aria-expanded="false" aria-controls="collapseLegend">
                   Phenotypic State Legend
                </a>
              </h2>
            </div>
            <div id="collapseLegend" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="legend-heading">
              <div class="panel-body" id="legend-panel-body">
                <div class ="img-default" id="lineage_vis_legend">
                  <img src="img/RECOLOR-task-profiles.jpg" alt="Legend" class="img-responsive"></img>
                </div>
                <div class="text-box">
                  <p>
                    Enumeration of all possible phenotypic states. Each row represents a distinct
                    phenotype. A green 'X' indicates that the associated task is performed in the
                    specified environment, while a red '--' indicates that the task is not performed.
                    For each environment, the column of the rewarded task is highlighted in green,
                    and the column of the punished task is highlighted in red. A green 'X' in a
                    green column or a red '--' in a red column is optimal. Each phenotype has a
                    color code, which is used the visualization below. Note that the first four
                    rows are non-plastic phenotypes, rows 5-8 exhibit partially beneficial plasticity,
                    and row 9 is optimally beneficial. Rows 10-11 are mostly neutral, while rows 12-16
                    are detrimental forms of plasticity.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <div class="panel panel-lalejini">
            <div class="panel-heading">
              <h2> Dashboard </h2>
            </div>
            <div class="panel-body">
              <div class="row">
                <div class="col-md-8">
                  <!-- Treatment selection -->
                  <div class="dropdown">
                    <button class="btn btn-block btn-default dropdown-toggle" type="button" id="treatment_selector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                      NONE
                      <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" id="treatment-selection-dropdown" aria-labelledby="treatment_selector">

                    </ul>
                  </div>
                </div>
                <div class="col-md-2">
                  <!-- Zoom control -->
                  <div class="btn-group" role="group" aria-label="vis_zoom">
                    <button type="button" class="btn btn-default" id="vis_zoom_in">
                      <span class="glyphicon glyphicon glyphicon-zoom-in" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="btn btn-default" id="vis_zoom_out">
                      <span class="glyphicon glyphicon glyphicon-zoom-out" aria-hidden="true"></span>
                    </button>
                  </div>
                </div>
                <div class="col-md-2">
                  <!-- Slice control -->
                  <div id="time_slice_dash">
                    <input type="checkbox" data-toggle="toggle" data-on="Full" data-off="Sliced" id="slice_toggle">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <!-- Lineage filtering options -->
                  <div class="lineage_filter_options">
                    <input class="lineage_type_filter" id="plastic_cb" type="radio" name="display" value="plastic">Plastic Only</input>
                    <input class="lineage_type_filter" id="nonplastic_cb" type="radio" name="display" value="nonplastic" >Non-plastic Only</input>
                    <input class="lineage_type_filter" id="all_cb" type="radio" name="display" value="all" checked> All </input>
                  </div>
                </div>


              </div>
            </div> <!-- end panel body -->
          </div> <!-- end  pangel -->
        </div> <!-- end col 12 -->
      </div> <!-- end row -->

      <div class="row">
        <div class="col-md-12">
          <div class="panel panel-lalejini" id="vis_panel">
            <div class="panel-heading">
              <h2> Visualization </h2>
            </div>
            <div class="panel-body">
              <div id="chart_area"></div>
            </div>
          </div>
        </div>

      </div>

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
      <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.0/js/bootstrap-toggle.min.js"></script>
      <script>
        $('#collapseLegend').collapse("hide");
        $('#collapseAbout').collapse("hide");
      </script>
      <!-- Include d3 js -->
      <script src="//d3js.org/d3.v3.min.js"></script>
      <!-- Include my script -->
      <script src="js/lineage_visualization_settings.js"></script>
      <script src="js/lineage_visualization.js"></script>
    </div>
  </body>

</html>
